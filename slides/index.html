<!DOCTYPE html>
<html lang="en-AU">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, max-scale=1, user-scalable=0">

    <title>Animating loading spinners with CSS | SydCSS Talk</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Presentation styles -->
    <link rel="stylesheet" href="css/styles.css">
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <!-- SLIDE: Intro -->
        <section>
          <h1>Animating loading spinners with CSS</h1>
          <hr>
          <p>
            <strong>Ben Booth</strong><br>
            Blake eLearning<br>
            <a href="https://twitter.com/bkbooth11" target="_blank">@bkbooth11</a><br>
            <a href="https://bkbooth.me" target="_blank">bkbooth.me</a>
          </p>

          <aside class="notes">
            <ul>
              <li>I'm Ben and I make things for the web</li>
              <li>currently paid by Blake eLearning</li>
              <li>Twitter at-bkbooth11</li>
              <li>blog bkbooth.me, don't write enough</li>
              <li>talk about CSS animations by looking at loading animations and spinners</li>
            </ul>
          </aside>
        </section>
        <!-- /SLIDE -->

        <!-- SLIDE: Topic intro -->
        <section>
          <section>
            <pre><code class="language-css" data-trim>
              @keyframes my-sweet-animation {
                  0% { /* ... */ }
                 50% { /* ... */ }
                100% { /* ... */ }
              }
            </code></pre>

            <aside class="notes">
              <ul>
                <li>two basic building blocks</li>
                <li><code>keyframes</code> at-rule</li>
                <li>define with at-<code>keyframes</code> keyword</li>
                <li>name or identifier</li>
                <li>list of steps which define CSS properties</li>
              </ul>
            </aside>
          </section>

          <section>
            <pre><code class="language-css" data-trim>
              @keyframes my-sweet-animation { /* ... */ }

              .thing-to-animate {
                /* shorthand */
                animation: 2s my-sweet-animation;

                /* individual sub-properties */
                animation-name: my-sweet-animation;
                animation-duration: 2s;
                animation-timing-function: ease;
              }
            </code></pre>

            <aside class="notes">
              <ul>
                <li><code>animation</code> properties</li>
                <li>shorthand form or individual sub-properties</li>
              </ul>
            </aside>
          </section>

          <section>
            <ul style="list-style-type: none;">
              <li><code>animation-name</code></li>
              <li><code>animation-duration</code></li>
              <li><code>animation-delay</code></li>
              <li><code>animation-direction</code></li>
              <li><code>animation-iteration-count</code></li>
              <li><code>animation-timing-function</code></li>
              <li><code>animation-fill-mode</code></li>
              <li><code>animation-play-state</code></li>
            </ul>

            <aside class="notes">
              <ul>
                <li>8 animation sub-properties</li>
                <li>plenty of flexibility</li>
              </ul>
            </aside>
          </section>
        </section>
        <!-- /SLIDE -->

        <!-- SLIDE: Animation 1 - fading -->
        <section>
          <section>
            <div id="fading-1" class="code-preview">
              <div class="circle"></div>
            </div>

            <pre><code class="liveCoding css" data-trim data-livecoding-id="fading-1" contenteditable>
              @keyframes fade-out-in {
                  0% { opacity: 1; }
                 50% { opacity: 0; }
                100% { opacity: 1; }
              }

              .circle {
                animation: 1s fade-out-in infinite;
              }
            </code></pre>

            <aside class="notes">
              <ul>
                <li>fading dot, opacity fading in and out</li>
                <li><code>keyframes</code> at-rule with 3 steps, visible, invisible, back to visible</li>
                <li><code>animation</code> shorthand to set <code>animation-duration</code>, <code>animation-name</code> and <code>animation-iteration-count</code></li>
                <li><b>LIVE EDIT</b> show default <code>animation-iteration-count</code></li>
                <li><b>LIVE EDIT</b> show <code>animation-duration</code> changes</li>
              </ul>
            </aside>
          </section>

          <section>
            <div id="fading-2" class="code-preview">
              <div class="circle"></div>
            </div>

            <pre><code class="liveCoding css" data-trim data-livecoding-id="fading-2" contenteditable>
              @keyframes fade-out {
                  0% { opacity: 1; }
                100% { opacity: 0; }
              }

              .circle {
                animation: 0.5s fade-out infinite;
                animation-direction: alternate;
              }
            </code></pre>

            <aside class="notes">
              <ul>
                <li>simplify <code>keyframes</code> at-rule to start and end steps</li>
                <li>set <code>animation-direction</code> to 'alternate', forward then reverse</li>
                <li>halved <code>animation-duration</code></li>
                <li><b>LIVE EDIT</b> show <i>'from'</i> and <i>'to'</i> instead of percentages</li>
              </ul>
            </aside>
          </section>
        </section>
        <!-- /SLIDE -->

        <!-- SLIDE: Animation 2 - spinning -->
        <section>
          <section>
            <div id="spinning-1" class="code-preview" style="margin-bottom: 50px;">
              <div class="star"></div>
            </div>

            <pre><code class="liveCoding css" data-trim data-livecoding-id="spinning-1" contenteditable>
              @keyframes rotate {
                  0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
              }

              .star {
                animation: 2.5s rotate infinite;
                animation-timing-function: linear;
              }
            </code></pre>

            <aside class="notes">
              <ul>
                <li>introduce <code>transform</code> property to handle rotation</li>
                <li><code>transform</code> provides toolset for 2D and 3D translating, rotating, scaling</li>
                <li><i>'rotate'</i> <code>keyframes</code> at-rule starting <i>'0deg'</i>, ending <i>'360deg'</i></li>
                <li><code>animation-timing-function</code> property set to <i>'linear'</i></li>
                <li><code>animation-timing-function</code> defaults to <i>'ease'</i></li>
                <li><b>SHOW LAST SLIDE, THEN LIVE EDIT</b> show rotation with <i>'ease'</i></li>
              </ul>
            </aside>
          </section>

          <section>
            <div id="spinning-2" class="code-preview">
              <div class="circles">
                <div class="circle-1"></div>
                <div class="circle-2"></div>
              </div>
            </div>

            <pre><code class="liveCoding css" data-trim data-livecoding-id="spinning-2" contenteditable>
              .circle-1 {
                animation: 1s linear rotate infinite;
              }
              .circle-2 {
                animation: 60s linear rotate infinite;
              }
            </code></pre>

            <aside class="notes">
              <ul>
                <li>create more complex animations using what we know.</li>
                <li>concentric circles not telling time, but outer 1s, inner 1m</li>
                <li><code>animation-direction</code> can be set to <i>'reverse'</i></li>
                <li><b>LIVE EDIT</b> add <i>'reverse'</i> and increase speed of inner</li>
                <li>nothing like a clock, but interesting?</li>
                <li>same rotation <code>keyframes</code> to rotate anything...</li>
              </ul>
            </aside>
          </section>

          <section>
            <div id="spinning-3" class="code-preview">
              <div class="doge">
                <img data-src="images/doge.png">
              </div>
            </div>

            <pre><code class="liveCoding css" data-trim data-livecoding-id="spinning-3" contenteditable>
              .doge {
                animation: 1.5s linear rotate infinite;
              }
            </code></pre>

            <aside class="notes">
              <ul>
                <li>...like doge</li>
              </ul>
            </aside>
          </section>
        </section>
        <!-- /SLIDE -->

        <!-- SLIDE: Animation 3 - chasing -->
        <section>
          <section>
            <div id="chaser-1" class="code-preview">
              <div class="dots">
                <div class="dot-1"></div>
                <div class="dot-2"></div>
                <div class="dot-3"></div>
                <div class="dot-4"></div>
                <div class="dot-5"></div>
                <div class="dot-6"></div>
                <div class="dot-7"></div>
                <div class="dot-8"></div>
              </div>
            </div>

            <pre><code class="liveCoding css" data-trim data-livecoding-id="chaser-1" contenteditable>
              @keyframes fade-in {
                  0% { opacity: 0.2; }
                100% { opacity: 1; }
              }

              [class^=dot-] {
                animation: 500ms ease-in fade-in infinite alternate;
              }
              .dot-1 { animation-delay: 0s; }
              .dot-2 { animation-delay: 125ms; }
              .dot-3 { animation-delay: 250ms; }
              .dot-4 { animation-delay: 375ms; }
              .dot-5 { animation-delay: 500ms; }
              .dot-6 { animation-delay: 625ms; }
              .dot-7 { animation-delay: 750ms; }
              .dot-8 { animation-delay: 875ms; }
            </code></pre>

            <aside class="notes">
              <ul>
                <li>arranged a series of small dots around a circle</li>
                <li>similar <code>keyframes</code> at-rule as earlier, fade dots in and out to 20% opacity</li>
                <li>adds nothing new to <code>animation</code> shorthand, fun selector</li>
                <li>set <code>animation-delay</code> for each dot to offset starting by 1/8th second</li>
                <li>tedious manually setting, especially to change speed of animation</li>
              </ul>
            </aside>
          </section>

          <section>
            <pre><code class="language-scss" data-trim>
              // SASS
              $animation_speed: 1s;
              $number_of_dots: 8;

              [class^=dot-] {
                animation:
                  ($animation_speed / 2) ease-in fade-in infinite alternate;
              }
              @for $i from 1 through $number_of_dots {
                .dot-#{$i} {
                  animation-delay:
                    ($animation_speed / $number_of_dots) * ($i - 1);
                }
              }
            </code></pre>

            <aside class="notes">
              <ul>
                <li>using SASS or similar, store desired animation speed and number of dots in variables</li>
                <li>halve animation speed for <code>animation</code> property</li>
                <li>loop through number of dots, calculate the <code>animation-delay</code> for each dot using desired animation speed, number of dots and current iteration variables</li>
              </ul>
            </aside>
          </section>
        </section>
        <!-- /SLIDE -->

        <!-- SLIDE: Animation 4 - bouncing -->
        <section>
          <section>
            <div id="bouncing-1" class="code-preview">
              <div class="ball-container">
                <div class="ball"></div>
              </div>
            </div>

            <pre><code class="liveCoding css" data-trim data-livecoding-id="bouncing-1" contenteditable>
              @keyframes bounce {
                  0% { transform: translateY(0); }
                100% { transform: translateY(-200%); }
              }

              .ball {
                animation: 300ms bounce infinite alternate;
                animation-timing-function:
                  cubic-bezier(0.38, 0.17, 0.11, 0.85);
              }
            </code></pre>

            <aside class="notes">
              <ul>
                <li>another fairly simple <code>keyframes</code> at-rule</li>
                <li><code>transform</code> to translate up, <i>'alternate'</i> to animate up and down</li>
                <li>make more "bouncy", defined <i>'cubic-bezier'</i> function for <code>animation-timing-function</code> property</li>
                <li>looks daunting, I didn't write, you shouldn't either...</li>
              </ul>
            </aside>
          </section>

          <section>
            <img data-src="images/cubic-bezier.png" style="margin-top: 60px; width: 60%;">

            <aside class="notes">
              <ul>
                <li>Chrome bezier curve editor</li>
                <li>drag dots to visually create the cubic bezier curve, writes function for you</li>
              </ul>
            </aside>
          </section>

          <section>
            <div id="bouncing-2" class="code-preview">
              <div class="balls">
                <div class="ball-1"></div>
                <div class="ball-2"></div>
                <div class="ball-3"></div>
              </div>
            </div>

            <pre><code class="liveCoding css" data-trim data-livecoding-id="bouncing-2" contenteditable>
              @keyframes bounce-3rd {
                  0% { transform: translateY(0); }
                 16% { transform: translateY(-125%); }
                 33% { transform: translateY(0); }
                100% { transform: translateY(0); }
              }

              [class^=ball-] {
                animation: 800ms ease-out bounce-3rd infinite;
              }
              .ball-1 { animation-delay: 0s; }
              .ball-2 { animation-delay: 150ms; }
              .ball-3 { animation-delay: 300ms; }
            </code></pre>

            <aside class="notes">
              <ul>
                <li>finally, excitedly impatient series of dots</li>
                <li>slightly more complex <code>keframes</code> at-rule, performs translation in first 1/3rd of time</li>
                <li><code>animation-delay</code> for each dot to offset starting</li>
              </ul>
            </aside>
          </section>
        </section>
        <!-- /SLIDE -->

        <!-- SLIDE: Browser support -->
        <section>
          <img data-src="images/mdn-animations.png">
          <img data-src="images/caniuse-animations.png">

          <aside class="notes">
            <ul>
              <li>relatively new to CSS spec, good support in modern browsers</li>
              <li>depending on requirements, use autoprefixer to process and add vendor prefixes</li>
            </ul>
          </aside>
        </section>
        <!-- /SLIDE -->

        <!-- SLIDE: Follow-up links -->
        <section>
          <ul style="list-style-type: none;">
            <li>
              <code>@keyframes</code><br>
              <small><a href="https://developer.mozilla.org/en/docs/Web/CSS/@keyframes" target="_blank">https://developer.mozilla.org/en/docs/Web/CSS/@keyframes</a></small>
            </li>
            <li>
              <code>animation</code><br>
              <small><a href="https://developer.mozilla.org/en/docs/Web/CSS/animation" target="_blank">https://developer.mozilla.org/en/docs/Web/CSS/animation</a></small>
            </li>
            <li>
              Using CSS animations<br>
              <small><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Animations/Using_CSS_animations" target="_blank">https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Animations/Using_CSS_animations</a></small>
            </li>
          </ul>

          <aside class="notes">
            <ul>
              <li>MDN is a great resource</li>
              <li>really helpful guide on using CSS animations</li>
            </ul>
          </aside>
        </section>
        <!-- /SLIDE -->

        <!-- SLIDE: Thanks -->
        <section>
          <h3>🎉 <br> Thanks for listening</h3>
          <hr>
          <p>
            <br>
            <a href="http://github.bkbooth.me/sydcss-talk-animations" target="_blank">github.bkbooth.me/sydcss-talk-animations</a><br>
            <br>
            <a href="https://twitter.com/bkbooth11" target="_blank">@bkbooth11</a><br>
            <a href="https://bkbooth.me" target="_blank">bkbooth.me</a>
          </p>

          <aside class="notes">
            <ul>
              <li>slides are there, Tweet link soon</li>
              <li>thanks David and Fiona for giving us opportunity</li>
              <li>thanks everyone for listening</li>
            </ul>
          </aside>
        </section>
        <!-- /SLIDE -->
      </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script src="js/scripts.js"></script>
  </body>
</html>

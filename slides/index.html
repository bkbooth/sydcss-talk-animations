<!DOCTYPE html>
<html lang="en-AU">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, max-scale=1, user-scalable=0">

    <title>Animating loading spinners with CSS | SydCSS Talk</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Presentation styles -->
    <link rel="stylesheet" href="css/styles.css">
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <!-- SLIDE 1: Intro -->
        <section>
          <h1>Animating loading spinners with CSS</h1>
          <hr>
          <p>
            <strong>Ben Booth</strong><br>
            Blake eLearning<br>
            <a href="https://twitter.com/bkbooth11" target="_blank">@bkbooth11</a><br>
            <a href="https://bkbooth.me" target="_blank">bkbooth.me</a>
          </p>

          <aside class="notes">
            Hi, I'm Ben. I make things on the web for fun and for profit. I'm currently paid to make things on the web by Blake eLearning, they're a great company and if you'd like to be paid to make things on the web too, I recommend having a chat to them. I'm on various social pipes, but my pipe of choice is Twitter. I also have a blog where I write things from time to time, though far less regularly than I'd like to.
          </aside>
        </section>
        <!-- /SLIDE 1 -->

        <!-- SLIDE 2: Photos of Millie -->
        <!--<section>
          <section><img data-src="images/millie-cute.jpg"></section>
          <section><img data-src="images/millie-cranky.jpg"></section>
        </section>-->
        <!-- /SLIDE 2 -->

        <!-- SLIDE 3: Topic intro -->
        <section>
          Topic intro

          <aside class="notes">
            ??? One of the things that got me into front-end development and I still get excited about is how quickly you can turn around from lines of code to something visible and functioning in front of your eyes. As browsers continue to grow and improve it's become a fantastic execution environment. Recently...
          </aside>
        </section>
        <!-- /SLIDE 3 -->

        <!-- SLIDE 4: Animation 1 - fading -->
        <section>
          Fading
          <section>
            <pre><code class="liveCoding css" data-livecoding-id="fading-1" contenteditable>
@keyframes fade-out-in {
    0% { opacity: 1; }
   50% { opacity: 0; }
  100% { opacity: 1; }
}

.circle {
  animation: 1s fade-out-in infinite;
}
            </code></pre>

            <div id="fading-1" class="code-preview">
              <div class="circle"></div>
            </div>

            <aside class="notes">
              The basic building blocks for animation with CSS are the <code>keyframes</code>> at-rule and the <code>animation</code> property. Starting with this basic fading dot animation, which is just a square with rounded corners where I'm fading the <code>opacity</code> in and out, you can see that you define a <code>keyframes</code> at-rule with the keyword, then an identifier or name for the animation, then a list of keyframe steps which define CSS properties for each step. To use these keyframes to animate the dot I'm using the <code>animation</code> shorthand property to set the duration, name matching the <code>keyframes</code> at-rule which we defined earlier and iteration count which is <i>'infinite'</i>. These properties are shorthand for the <code>animation-duration</code>, <code>animation-name</code> and <code>animation-iteration-count</code> properties. <code>animation-iteration-count</code> can be a number, but it defaults to <i>'1'</i> <b>(!!!LIVE CODE!!!)</b>, so we'll be using <i>'infinite'</i> for all of these animations. You can easily tweak the speed of the animation by modifying the <code>animation-duration</code> property <b>(!!!LIVE CODE!!!)</b>.
            </aside>
          </section>

          <section>
            <pre><code class="liveCoding css" data-livecoding-id="fading-2" contenteditable>
@keyframes fade-out {
    0% { opacity: 1; }
  100% { opacity: 0; }
}

.circle {
  animation: 0.5s fade-out infinite alternate;
}
            </code></pre>

            <div id="fading-2" class="code-preview">
              <div class="circle"></div>
            </div>

            <aside class="notes">
              We can actually simplify the keyframes in this case by setting the <code>animation-direction</code> property to <i>'alternate'</i>. Now the <code>keyframes</code> just need to define the start and end properties for the animation, and the <code>animation</code> property can handle the rest of the behaviour. This also now means that the <i>'fade'</i> <code>keyframes</code> at-rule is more generic and can be used anytime we need to fade something in or out. You may also see <code>from</code> and <code>to</code> instead of percentages in a <code>keyframes</code> at-rule, <b>(!!!LIVE CODE!!!)</b> these are just aliases for <i>'0%'</i> and <i>'100%'</i> respectively.
            </aside>
          </section>
        </section>
        <!-- /SLIDE 4 -->

        <!-- SLIDE 5: Animation 2 - spinning -->
        <section>
          Spinning
          <section>
            <pre><code class="liveCoding css" data-livecoding-id="spinning-1" contenteditable>
@keyframes rotate {
    0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.star {
  animation: 2.5s linear rotate infinite;
}
            </code></pre>

            <div id="spinning-1" class="code-preview">
              <div class="star"></div>
            </div>

            <aside class="notes">
              Spinners are another fairly basic animation that can be defined really easily in CSS. Firstly the <code>keyframes</code> at-rule still only needs to define a start and end but we're introducing the <code>transform</code> property now to handle the rotation. <code>transform</code> provides a great toolset of transform functions for 2D and 3D translating (as in movement), scaling and rotation. It's enough for a talk on it's own but we'll just dip our toes in here, it's worth mentioning that you should always prefer animating and transitioning elements with <code>transform</code> because it doesn't trigger a reflow of the layout, which is again a topic for another day. The <i>'rotate'</i> <code>keyframe</code> at-rule sets the starting rotation to <i>'0deg'</i> and the ending rotation to <i>'360deg'</i>. The <code>animation</code> shorthand property adds one new value <i>'linear'</i>, this is shorthand for the <code>animation-timing-function</code> property which defaults to <i>'ease'</i> which eases the animation in and out. This caused the fading dot to "breathe" in and out <b>(???briefly back to SLIDE 4a)</b>, but for rotation we want a nice even linear animation.
            </aside>
          </section>

          <section>
            <pre><code class="liveCoding css" data-livecoding-id="spinning-2" contenteditable>
.circle-1 {
  animation: 60s linear rotate infinite;
}
.circle-2 {
  animation: 1s linear rotate infinite;
}
            </code></pre>

            <div id="spinning-2" class="code-preview">
              <div class="circles">
                <div class="circle-1"></div>
                <div class="circle-2"></div>
              </div>
            </div>

            <aside class="notes">
              <p>We can also do more advanced animations without introducing any new properties but just building on what we already know, these are just concentric circles with a dot moving around each, because rotating circles aren't exactly exciting on their own. The second circle is just reversing the same animation as the other two.</p>
              <p>But you can rotate pretty much anything...</p>
            </aside>
          </section>

          <section>
            <pre><code class="liveCoding css" data-livecoding-id="spinning-3" contenteditable>
.doge {
  animation: 1.5s linear rotate infinite;
}
            </code></pre>

            <div id="spinning-3" class="code-preview">
              <div class="doge">
                <img data-src="images/doge.png">
              </div>
            </div>
          </section>
        </section>
        <!-- /SLIDE 5 -->

        <!-- SLIDE 6: Animation 3 - chasing -->
        <section>
          Chaser
          <section>
            <pre><code class="liveCoding css" data-livecoding-id="chaser-1" contenteditable>
@keyframes fade-in {
    0% { opacity: 0.2; }
  100% { opacity: 1; }
}

[class^=dot-] {
  animation: 0.5s ease-in fade-in infinite alternate;
}
.dot-1 { animation-delay: 0s; }
.dot-2 { animation-delay: 125ms; }
.dot-3 { animation-delay: 250ms; }
.dot-4 { animation-delay: 375ms; }
.dot-5 { animation-delay: 500ms; }
.dot-6 { animation-delay: 625ms; }
.dot-7 { animation-delay: 750ms; }
.dot-8 { animation-delay: 875ms; }
            </code></pre>

            <div id="chaser-1" class="code-preview">
              <div class="dots">
                <div class="dot-1"></div>
                <div class="dot-2"></div>
                <div class="dot-3"></div>
                <div class="dot-4"></div>
                <div class="dot-5"></div>
                <div class="dot-6"></div>
                <div class="dot-7"></div>
                <div class="dot-8"></div>
              </div>
            </div>

            <aside class="notes">
              For this pulsing series of dots I've made the <code>keyframes</code> at-rule slightly more complex by changing the <code>opacity</code> property like we did with the <i>'fade'</i> <code>keyframes</code> at-rule earlier, but also using the <code>transform</code> property to scale the dots up slightly at full opacity. I'm introducing the <code>animation-delay</code> property to offset the start of the animation for each dot. As you can see this is a little complicated, especially if you want to change the timing of the overall animation, you'll need to update the offset for each element.
            </aside>
          </section>

          <section>
            <pre><code class="language-scss">
// SASS

@for $i from 1 through 8 {
  .dot-#{$i} {
    animation-delay: 125ms * ($i - 1);
  }
}
            </code></pre>

            <aside class="notes">
              If you're using SASS or something similar, you can simplify it with something like this. I've set the overall animation duration in a variable, then loop over each of the dots with a <code>for</code> loop and calculate the offset for each dot.
            </aside>
          </section>
        </section>
        <!-- /SLIDE 6 -->

        <!-- SLIDE 7: Animation 4 - bouncing -->
        <section>
          Bouncing
          <section>
            <pre><code class="liveCoding css" data-livecoding-id="bouncing-1" contenteditable>
@keyframes bounce {
    0% { transform: translateY(0); }
  100% { transform: translateY(-200%); }
}

.ball {
  animation: 0.3s ease-out bounce infinite alternate;
}
            </code></pre>

            <div id="bouncing-1" class="code-preview">
              <div class="ball-container">
                <div class="ball"></div>
              </div>
            </div>

            <aside class="notes">
              This bouncing dot uses another fairly simple <code>keyframes</code> at-rule, just using the <code>transform</code> property to translate the dot up. The interesting thing with the <code>animation</code> property here is the use of a custom timing function. If that looks confusing to you, don't worry, you shouldn't ever need to write one of these by hand. Chrome (and possibly other browsers?) has an awesome bezier curve editor where you can just drag some dots and lines to create the animation you want and it will write the timing function for you. I wanted something that accelerates up quickly and starts falling slowly.
            </aside>
          </section>

          <section>
            <pre><code class="liveCoding css" data-livecoding-id="bouncing-2" contenteditable>
@keyframes bounce-3rd {
    0% { transform: translateY(0); }
   17% { transform: translateY(-125%); }
   33% { transform: translateY(0); }
  100% { transform: translateY(0); }
}

[class^=ball-] {
  animation: 0.8s ease-out bounce-3rd infinite;
}
.ball-1 { animation-delay: 0s; }
.ball-2 { animation-delay: 150ms; }
.ball-3 { animation-delay: 300ms; }
            </code></pre>

            <div id="bouncing-2" class="code-preview">
              <div class="balls">
                <div class="ball-1"></div>
                <div class="ball-2"></div>
                <div class="ball-3"></div>
              </div>
            </div>

            <aside class="notes">
              Finally, by using <code>animation-delay</code> here too we can get a nice little series of bouncing dots.
            </aside>
          </section>
        </section>
        <!-- /SLIDE 7 -->

        <!-- SLIDE 8: Browser support -->
        <section>
          Browser support

          <aside class="notes">
            It's worth mentioning that most of what I've talked about is relatively new to the CSS spec and browser support is mixed. Depending what browsers you need to target though you'll get a lot of mileage out of just using something like autoprefixer to process your CSS and automatically add any required vendor prefixes like <code>-webkit</code>, <code>-moz</code>, etc.
          </aside>
        </section>
        <!-- /SLIDE 8 -->

        <!-- SLIDE 9: Follow-up links -->
        <section>
          Follow-up links

          <aside class="notes">
            If you're interested in learning more about any of these, MDN is a great learning resources for understanding the CSS properties, but especially some of the more detailed guides such as for Animations and Transitions.
          </aside>
        </section>
        <!-- /SLIDE 9 -->

        <!-- SLIDE 10: Thanks -->
        <section>
          Thanks

          <aside class="notes">
            Thanks for listening, hopefully I've helped sparked some interest and some of you will dig into what's possible with animations and other emerging browser capabilities.
          </aside>
        </section>
        <!-- /SLIDE 10 -->
      </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script src="js/scripts.js"></script>
  </body>
</html>
